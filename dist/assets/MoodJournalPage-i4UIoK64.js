import{j as e}from"./index-B1ATpgSW.js";import{r as b}from"./vendor-WdAP5ebR.js";import{O as C}from"./OptimizedParticleBackground-Bu0veEUN.js";const f=({children:r,variant:l="default",className:t="",onClick:n=null,hover:i=!0,glow:d=!1,...m})=>{const c="rounded-2xl transition-all duration-300",o={default:"genshin-glass border border-white/20",solid:"bg-white/10 backdrop-blur-sm border border-white/20",mystical:"bg-gradient-to-br from-purple-900/30 to-blue-900/30 backdrop-blur-sm border border-purple-400/30",warm:"bg-gradient-to-br from-orange-900/30 to-yellow-900/30 backdrop-blur-sm border border-yellow-400/30",transparent:"bg-transparent border border-white/10"},a=i?"hover:bg-white/20 hover:border-white/30 hover:transform hover:-translate-y-1":"",h=d?"genshin-shadow-glow":"genshin-shadow-soft",u=n?"cursor-pointer":"",x=o[l]||o.default;return e.jsx("div",{className:`${c} ${x} ${a} ${h} ${u} ${t}`,onClick:n,...m,children:r})},g=({children:r,variant:l="primary",size:t="md",onClick:n,disabled:i=!1,className:d="",icon:m=null,...c})=>{const o="inline-flex items-center justify-center font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"genshin-btn-primary focus:ring-yellow-400",secondary:"genshin-btn-secondary focus:ring-white/50",ghost:"bg-transparent text-white hover:bg-white/10 border border-white/20 hover:border-white/40",danger:"bg-red-500/20 text-red-300 border border-red-500/30 hover:bg-red-500/30 hover:border-red-500/50"},h={sm:"px-3 py-2 text-sm rounded-lg",md:"px-4 py-3 text-base rounded-xl",lg:"px-6 py-4 text-lg rounded-2xl",xl:"px-8 py-5 text-xl rounded-2xl"},u=a[l]||a.primary,x=h[t]||h.md;return e.jsxs("button",{className:`${o} ${u} ${x} ${d}`,onClick:n,disabled:i,...c,children:[m&&e.jsx("span",{className:"mr-2",children:m}),r]})},k=({isOpen:r,onClose:l,title:t,children:n,size:i="md",showCloseButton:d=!0,className:m=""})=>{if(b.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),b.useEffect(()=>{const a=h=>{h.key==="Escape"&&r&&l()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[r,l]),!r)return null;const c={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-full mx-4"},o=c[i]||c.md;return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:l}),e.jsx("div",{className:`relative w-full ${o} ${m}`,children:e.jsxs("div",{className:"genshin-glass rounded-3xl p-6 border border-white/20 genshin-shadow-mystical",children:[(t||d)&&e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t&&e.jsx("h3",{className:"text-white font-semibold text-lg genshin-text-glow",children:t}),d&&e.jsx(g,{variant:"ghost",size:"sm",onClick:l,className:"w-8 h-8 p-0 rounded-full",children:"✕"})]}),e.jsx("div",{className:"text-white",children:n})]})})]})},E=()=>{const[r,l]=b.useState(""),[t,n]=b.useState(5),[i,d]=b.useState(""),[m,c]=b.useState([]),[o,a]=b.useState(!1),[h,u]=b.useState(!1),x=[{id:"happy",label:"开心",emoji:"😊",color:"border-green-400",hoverColor:"hover:bg-green-400/20"},{id:"sad",label:"难过",emoji:"😢",color:"border-blue-400",hoverColor:"hover:bg-blue-400/20"},{id:"angry",label:"愤怒",emoji:"😠",color:"border-red-400",hoverColor:"hover:bg-red-400/20"},{id:"anxious",label:"焦虑",emoji:"😰",color:"border-purple-400",hoverColor:"hover:bg-purple-400/20"},{id:"calm",label:"平静",emoji:"😌",color:"border-cyan-400",hoverColor:"hover:bg-cyan-400/20"},{id:"excited",label:"兴奋",emoji:"🤩",color:"border-yellow-400",hoverColor:"hover:bg-yellow-400/20"}],v=[{name:"工作",color:"border-blue-500"},{name:"学习",color:"border-green-500"},{name:"家庭",color:"border-red-500"},{name:"朋友",color:"border-yellow-500"},{name:"健康",color:"border-purple-500"},{name:"运动",color:"border-indigo-500"},{name:"娱乐",color:"border-pink-500"},{name:"旅行",color:"border-teal-500"},{name:"爱情",color:"border-rose-500"},{name:"金钱",color:"border-amber-500"},{name:"天气",color:"border-cyan-500"},{name:"其他",color:"border-gray-500"}],j=s=>{c(p=>p.includes(s)?p.filter(N=>N!==s):[...p,s])},w=()=>{l(""),n(5),d(""),c([])},y=async s=>{if(s.preventDefault(),!r||!i.trim()){alert("请选择情绪并填写日志内容");return}a(!0),setTimeout(()=>{a(!1),u(!0),w()},1500)};return e.jsxs("div",{className:"min-h-screen relative overflow-hidden pb-24",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-yellow-400/5 rounded-full blur-xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-32 right-32 w-48 h-48 bg-blue-400/5 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-purple-400/5 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),e.jsx(C,{color:"#FFFFFF",quantity:10}),e.jsx("div",{className:"relative z-10 p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:"genshin-title text-3xl text-center mb-8 genshin-text-glow",children:"情绪日志"}),e.jsxs(f,{className:"p-6 mb-6",hover:!1,children:[e.jsx("h2",{className:"genshin-subtitle text-lg mb-4",children:"今天的心情如何？"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-4",children:x.map(s=>e.jsxs("button",{onClick:()=>l(s.id),className:`flex flex-col items-center justify-center p-4 rounded-xl border-2 ${s.color} transition-all duration-300
                    ${r===s.id?`bg-white/20 ${s.color} genshin-shadow-glow`:`bg-white/5 ${s.hoverColor}`}
                  `,children:[e.jsx("span",{className:"text-4xl mb-2",children:s.emoji}),e.jsx("span",{className:"text-white font-medium",children:s.label})]},s.id))}),r&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("label",{className:"block genshin-subtitle text-lg mb-2",children:["情绪强度：",t," / 10"]}),e.jsx("input",{type:"range",min:"1",max:"10",value:t,onChange:s=>n(parseInt(s.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer genshin-slider"})]})]}),e.jsxs(f,{className:"p-6 mb-6",hover:!1,children:[e.jsx("h2",{className:"genshin-subtitle text-lg mb-4",children:"今天发生了什么？"}),e.jsx("textarea",{className:"w-full h-32 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-yellow-400 transition-colors",placeholder:"分享你的想法、感受或今天发生的事情...",value:i,onChange:s=>d(s.target.value),maxLength:"500"}),e.jsxs("p",{className:"text-right text-white/60 text-sm mt-1",children:[i.length," / 500"]})]}),e.jsxs(f,{className:"p-6 mb-6",hover:!1,children:[e.jsx("h2",{className:"genshin-subtitle text-lg mb-4",children:"相关标签"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:v.map(s=>e.jsx("button",{onClick:()=>j(s.name),className:`px-4 py-2 rounded-full border ${s.color} text-white text-sm font-medium transition-all duration-300
                    ${m.includes(s.name)?"bg-white/20 genshin-shadow-glow":"bg-white/5 hover:bg-white/10"}
                  `,children:s.name},s.name))})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(g,{variant:"secondary",onClick:w,size:"lg",children:"重置"}),e.jsx(g,{variant:"primary",onClick:y,size:"lg",disabled:o,icon:o?e.jsx("div",{className:"genshin-loading mr-2"}):null,children:o?"保存中...":"保存日志"})]})]})}),e.jsx(k,{isOpen:h,onClose:()=>u(!1),title:"日志保存成功！",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-white text-lg mb-4",children:"您的情绪日志已成功保存，感谢您的记录！"}),e.jsx(g,{variant:"primary",onClick:()=>u(!1),children:"好的"})]})})]})};export{E as default};
