import{j as e}from"./index-3Lc6BomN.js";import{r as d}from"./vendor-DjjtZf4i.js";import{O as N}from"./OptimizedParticleBackground-DQRt6F8-.js";const C=()=>{const[n,u]=d.useState("all"),[p,c]=d.useState(!1),[l,h]=d.useState(null),[i,f]=d.useState([]),g=[{id:1,date:"2024-08-12",time:"14:30",mood:"happy",intensity:8,content:"今天天气很好，和朋友一起去公园散步，心情特别愉快。看到盛开的花朵，感受到生活的美好。",tags:["户外活动","朋友","自然"]},{id:2,date:"2024-08-11",time:"21:15",mood:"calm",intensity:7,content:"晚上做了冥想练习，感觉内心很平静。今天的工作虽然忙碌，但通过正念练习找到了内心的宁静。",tags:["冥想","工作","正念"]},{id:3,date:"2024-08-10",time:"16:45",mood:"anxious",intensity:6,content:"明天有重要的会议，感到有些紧张和焦虑。尝试了深呼吸练习，情况有所好转。",tags:["工作压力","会议","焦虑"]},{id:4,date:"2024-08-09",time:"10:20",mood:"excited",intensity:9,content:"收到了期待已久的好消息！心情非常激动，想要和所有人分享这份喜悦。",tags:["好消息","激动","分享"]},{id:5,date:"2024-08-08",time:"19:30",mood:"sad",intensity:4,content:"今天有些低落，可能是因为天气阴沉的缘故。看了一部温暖的电影，心情稍微好了一些。",tags:["低落","天气","电影"]},{id:6,date:"2024-08-07",time:"12:00",mood:"angry",intensity:5,content:"上午遇到了一些不愉快的事情，感到很生气。通过写日记的方式发泄了情绪，现在感觉好多了。",tags:["生气","发泄","写作"]}];d.useEffect(()=>{f(g)},[]);const m={happy:{name:"开心",emoji:"😊",color:"from-green-400 to-emerald-500",borderColor:"border-green-400"},sad:{name:"难过",emoji:"😢",color:"from-blue-400 to-cyan-500",borderColor:"border-blue-400"},angry:{name:"愤怒",emoji:"😠",color:"from-red-400 to-rose-500",borderColor:"border-red-400"},anxious:{name:"焦虑",emoji:"😰",color:"from-purple-400 to-violet-500",borderColor:"border-purple-400"},calm:{name:"平静",emoji:"😌",color:"from-cyan-400 to-blue-500",borderColor:"border-cyan-400"},excited:{name:"兴奋",emoji:"🤩",color:"from-yellow-400 to-orange-500",borderColor:"border-yellow-400"}},w=[{id:"all",name:"全部记录",icon:"📖"},{id:"happy",name:"开心",icon:"😊"},{id:"sad",name:"难过",icon:"😢"},{id:"angry",name:"愤怒",icon:"😠"},{id:"anxious",name:"焦虑",icon:"😰"},{id:"calm",name:"平静",icon:"😌"},{id:"excited",name:"兴奋",icon:"🤩"}],b=n==="all"?i:i.filter(t=>t.mood===n),j=t=>{const s=new Date(t),a=new Date,r=new Date(a);return r.setDate(r.getDate()-1),s.toDateString()===a.toDateString()?"今天":s.toDateString()===r.toDateString()?"昨天":s.toLocaleDateString("zh-CN",{month:"long",day:"numeric"})},x={total:i.length,positive:i.filter(t=>["happy","excited","calm"].includes(t.mood)).length,avgIntensity:i.length>0?Math.round(i.reduce((t,s)=>t+s.intensity,0)/i.length):0};return e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/src/assets/history-bg.webp")',filter:"brightness(0.7)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/80 via-purple-900/60 to-slate-900/80"}),e.jsx(N,{color:"#8B5CF6",quantity:12}),e.jsxs("div",{className:"relative z-10 min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"📚 情绪档案"}),e.jsx("p",{className:"text-white/70 text-sm",children:"回顾您的心路历程"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full text-white hover:bg-white/20 transition-all duration-300",children:[e.jsx("span",{children:"🔍"}),e.jsx("span",{className:"text-sm",children:"筛选"})]})]}),e.jsx("div",{className:"px-6 mb-6",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20",children:[e.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"📊"}),"本周统计"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:x.total}),e.jsx("div",{className:"text-white/70 text-xs",children:"总记录"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:x.positive}),e.jsx("div",{className:"text-white/70 text-xs",children:"积极情绪"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:x.avgIntensity}),e.jsx("div",{className:"text-white/70 text-xs",children:"平均强度"})]})]})]})}),e.jsx("div",{className:"px-6 pb-24",children:b.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"📝"})}),e.jsx("h3",{className:"text-white font-semibold mb-2",children:"暂无记录"}),e.jsx("p",{className:"text-white/70 text-sm",children:n==="all"?"开始记录您的第一篇情绪日志吧":"没有找到相关的情绪记录"})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-yellow-400 via-blue-400 to-purple-400 opacity-30"}),e.jsx("div",{className:"space-y-6",children:b.map((t,s)=>{const a=m[t.mood];return e.jsxs("div",{className:"relative flex items-start space-x-4",children:[e.jsx("div",{className:`relative z-10 w-4 h-4 rounded-full bg-gradient-to-r ${a.color} border-2 border-white shadow-lg`}),e.jsxs("div",{className:`flex-1 bg-white/10 backdrop-blur-sm rounded-2xl p-4 border-l-4 ${a.borderColor} hover:bg-white/20 transition-all duration-300 cursor-pointer group`,onClick:()=>h(t),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:a.emoji}),e.jsx("span",{className:"text-white font-medium",children:a.name}),e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((r,o)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${o<Math.round(t.intensity/2)?"bg-yellow-400":"bg-white/20"}`},o))})]}),e.jsxs("div",{className:"text-white/60 text-sm",children:[j(t.date)," ",t.time]})]}),e.jsx("p",{className:"text-white/80 text-sm mb-3 line-clamp-2",children:t.content}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((r,o)=>e.jsxs("span",{className:"px-2 py-1 bg-white/10 rounded-full text-white/70 text-xs",children:["#",r]},o))}),e.jsx("div",{className:"text-white/40 group-hover:text-yellow-400 transition-colors mt-2 text-right",children:e.jsx("span",{className:"text-sm",children:"查看详情 →"})})]})]},t.id)})})]})})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end",children:e.jsxs("div",{className:"w-full bg-white/10 backdrop-blur-md rounded-t-3xl p-6 transform transition-transform duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"筛选情绪"}),e.jsx("button",{onClick:()=>c(!1),className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-white",children:"✕"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:w.map(t=>e.jsxs("button",{onClick:()=>{u(t.id),c(!1)},className:`flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ${n===t.id?"bg-gradient-to-r from-yellow-400/30 to-orange-400/30 border border-yellow-400/50":"bg-white/10 hover:bg-white/20"}`,children:[e.jsx("span",{className:"text-xl",children:t.icon}),e.jsx("span",{className:"text-white font-medium",children:t.name}),n===t.id&&e.jsx("span",{className:"ml-auto text-yellow-400",children:"✓"})]},t.id))})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-md rounded-3xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"日志详情"}),e.jsx("button",{onClick:()=>h(null),className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center text-white",children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:m[l.mood].emoji}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:m[l.mood].name}),e.jsxs("div",{className:"text-white/60 text-sm",children:[j(l.date)," ",l.time]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-white/70 text-sm",children:"强度:"}),e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(10)].map((t,s)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${s<l.intensity?"bg-yellow-400":"bg-white/20"}`},s))}),e.jsxs("span",{className:"text-yellow-400 text-sm",children:[l.intensity,"/10"]})]}),e.jsx("div",{className:"bg-white/5 rounded-xl p-4",children:e.jsx("p",{className:"text-white/90 leading-relaxed",children:l.content})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map((t,s)=>e.jsxs("span",{className:"px-3 py-1 bg-white/10 rounded-full text-white/70 text-sm",children:["#",t]},s))}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{className:"flex-1 py-3 bg-white/10 rounded-xl text-white hover:bg-white/20 transition-colors",children:"编辑"}),e.jsx("button",{className:"flex-1 py-3 bg-red-500/20 rounded-xl text-red-300 hover:bg-red-500/30 transition-colors",children:"删除"})]})]})]})})]})};export{C as default};
