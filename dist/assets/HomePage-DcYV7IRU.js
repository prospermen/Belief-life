import{j as e}from"./index-3Lc6BomN.js";import{r as d,c as D}from"./vendor-DjjtZf4i.js";import{O as C}from"./OptimizedParticleBackground-DQRt6F8-.js";import{G as A}from"./GenshinModal-DY3BAoNL.js";const P=({onEmotionHelp:f,onThoughtHelp:p})=>{const[t,c]=d.useState(!1),[o,g]=d.useState("/meditation-music.mp3"),[i]=d.useState(new Audio(o));d.useEffect(()=>(i.loop=!0,i.volume=.5,t?i.play().catch(u=>console.error("Error playing audio:",u)):(i.pause(),i.currentTime=0),()=>{i.pause(),i.currentTime=0}),[t,i,o]);const s=()=>{c(!0)},m=u=>{c(!1),u==="emotion"?f():u==="thought"&&p()};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:s,className:"fixed bottom-20 right-6 z-50 w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 hover:from-red-400 hover:to-red-500 text-white rounded-full shadow-2xl transform hover:scale-110 transition-all duration-300 flex items-center justify-center group",style:{boxShadow:"0 0 30px rgba(239, 68, 68, 0.5), inset 0 0 20px rgba(255, 255, 255, 0.2)",animation:"pulse 2s infinite"},children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"text-xl font-bold",children:"SOS"}),e.jsx("div",{className:"absolute -inset-2 bg-red-400 rounded-full opacity-30 animate-ping group-hover:animate-none"})]})}),e.jsx(A,{isOpen:t,onClose:()=>c(!1),title:"需要帮助？",className:"max-w-md",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("p",{className:"text-white/80 text-center mb-6",children:"选择你想要处理的类型："}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>m("emotion"),className:"w-full p-4 bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-400/30 rounded-lg hover:from-blue-500/30 hover:to-purple-500/30 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"💙"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"处理感受"}),e.jsx("p",{className:"text-white/70 text-sm",children:"通过呼吸练习和正念技巧平静情绪"})]})]})}),e.jsx("button",{onClick:()=>m("thought"),className:"w-full p-4 bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-400/30 rounded-lg hover:from-purple-500/30 hover:to-pink-500/30 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"🧠"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:"处理想法"}),e.jsx("p",{className:"text-white/70 text-sm",children:"通过思维降温技巧重构负面想法"})]})]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{htmlFor:"audio-select",className:"block text-white/80 text-center mb-2",children:"选择背景音乐："}),e.jsxs("select",{id:"audio-select",value:o,onChange:u=>g(u.target.value),className:"w-full p-2 rounded-md bg-white/10 text-white border border-white/20 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"/meditation-music.mp3",children:"冥想音乐"}),e.jsx("option",{value:"/nature-ambience.mp3",children:"自然环境音"}),e.jsx("option",{value:"/5-minute-breathing-meditation.mp3",children:"5分钟呼吸冥想"}),e.jsx("option",{value:"/11-minute-awareness-of-breath-practice.mp3",children:"11分钟呼吸意识练习"})]})]})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0%, 100% {
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.5), inset 0 0 20px rgba(255, 255, 255, 0.2);
          }
          50% {
            box-shadow: 0 0 50px rgba(239, 68, 68, 0.8), inset 0 0 20px rgba(255, 255, 255, 0.3);
          }
        }
      `})]})},q=({onComplete:f,onBack:p})=>{const[t,c]=d.useState("inhale"),[o,g]=d.useState(4),[i,s]=d.useState(0),[m,u]=d.useState(!1),[n,a]=d.useState(180),[j,w]=d.useState(180),x={inhale:4,hold:7,exhale:8,pause:2},r={inhale:"吸气",hold:"屏息",exhale:"呼气",pause:"暂停"},l={inhale:"缓慢深吸气，让腹部自然扩张",hold:"轻松屏住呼吸，保持平静",exhale:"缓慢呼气，释放所有紧张",pause:"自然暂停，感受内心的平静"};d.useEffect(()=>{let h=null;return m&&j>0?h=setInterval(()=>{g(v=>v<=1?(c(T=>{const $=["inhale","hold","exhale","pause"],B=($.indexOf(T)+1)%$.length,I=$[B];return I==="inhale"&&s(z=>z+1),I}),x[t]):v-1),w(v=>v-1)},1e3):j===0&&u(!1),()=>clearInterval(h)},[m,o,t,j]);const N=()=>{u(!0),c("inhale"),g(x.inhale),s(0),w(n)},S=()=>{u(!m)},y=()=>{u(!1),c("inhale"),g(x.inhale),s(0),w(n)},k=h=>{const v=Math.floor(h/60),T=h%60;return`${v}:${T.toString().padStart(2,"0")}`},b=()=>{const h=(x[t]-o)/x[t];return t==="inhale"?.5+h*.5:t==="exhale"?1-h*.5:t==="hold"?1:.5};return e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-purple-900 to-slate-900",children:[e.jsx(C,{color:"#FACC15",quantity:15}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("button",{onClick:p,className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"呼吸练习"}),e.jsx("p",{className:"text-white/70",children:"4-7-8呼吸法"})]}),e.jsxs("div",{className:"text-white/80 text-right",children:[e.jsx("div",{className:"text-sm",children:"剩余时间"}),e.jsx("div",{className:"text-lg font-mono",children:k(j)})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"w-80 h-80 rounded-full border-4 border-yellow-400/60 flex items-center justify-center transition-all duration-1000 ease-in-out",style:{transform:`scale(${b()})`,boxShadow:`0 0 60px rgba(250, 204, 21, ${m?.6:.3}), inset 0 0 60px rgba(250, 204, 21, 0.1)`,background:"radial-gradient(circle, rgba(250, 204, 21, 0.1) 0%, rgba(250, 204, 21, 0.05) 50%, transparent 100%)"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl font-bold text-yellow-400 mb-2",children:o}),e.jsx("div",{className:"text-2xl text-white font-semibold",children:r[t]})]})}),e.jsx("div",{className:"absolute -inset-8 pointer-events-none",children:[...Array(8)].map((h,v)=>e.jsx("div",{className:"absolute w-4 h-4 text-yellow-400/40",style:{transform:`rotate(${v*45}deg) translateY(-160px)`,transformOrigin:"50% 160px"},children:"✦"},v))})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("p",{className:"text-white/90 text-lg mb-2",children:l[t]}),e.jsxs("p",{className:"text-white/60 text-sm",children:["第 ",i+1," 个循环"]})]}),e.jsx("div",{className:"flex space-x-4",children:!m&&j===n?e.jsx("button",{onClick:N,className:"px-8 py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-semibold rounded-lg hover:from-yellow-300 hover:to-yellow-400 transition-all duration-300 shadow-lg",children:"开始练习"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:S,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:from-blue-400 hover:to-blue-500 transition-all duration-300 shadow-lg",children:m?"暂停":"继续"}),e.jsx("button",{onClick:y,className:"px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-semibold rounded-lg hover:from-gray-400 hover:to-gray-500 transition-all duration-300 shadow-lg",children:"重新开始"})]})})]}),j===0&&e.jsx("div",{className:"p-6 bg-gradient-to-r from-green-500/20 to-blue-500/20 border-t border-green-400/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-white font-semibold text-lg mb-2",children:"🎉 呼吸练习完成！"}),e.jsx("p",{className:"text-white/80 mb-4",children:'感觉如何？你可以继续尝试"感受的浪潮"练习，或者返回主页。'}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>f("wave"),className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-400 hover:to-purple-500 transition-all duration-300",children:"感受的浪潮"}),e.jsx("button",{onClick:()=>f("home"),className:"px-6 py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-400 hover:to-gray-500 transition-all duration-300",children:"返回主页"})]})]})})]})]})},E=({onComplete:f,onBack:p})=>{const[t,c]=d.useState(0),[o,g]=d.useState(.5),[i,s]=d.useState(!1),[m,u]=d.useState(new Set),n=[{title:"观察你的感受",instruction:"注意到此刻内心的感受，不要试图改变它，只是观察。",detail:"想象你的情绪就像海洋中的波浪，有高有低，这是完全自然的。",action:"点击并拖动屏幕，感受情绪的波动"},{title:"接纳这个感受",instruction:"告诉自己：'这个感受是可以的，我允许它存在。'",detail:"不要与情绪对抗，就像冲浪者不会与海浪对抗一样。",action:"继续与波浪互动，让它自然流动"},{title:"与感受共存",instruction:"想象自己是一个熟练的冲浪者，在情绪的波浪上保持平衡。",detail:"你不需要控制波浪，只需要学会与它们和谐共处。",action:"感受自己在情绪波浪上的平衡"},{title:"观察变化",instruction:"注意到情绪的强度在自然地变化，就像波浪有起有落。",detail:"强烈的情绪不会永远持续，它们会自然地减弱和消散。",action:"观察波浪的自然变化"},{title:"感受平静",instruction:"现在，感受内心深处的那份平静，它一直都在那里。",detail:"就像海洋深处总是平静的，你的内心也有一个平静的核心。",action:"让波浪逐渐平息，感受内在的宁静"}],a=l=>{if(!i)return;const N=l.currentTarget.getBoundingClientRect();l.clientX-N.left;const S=l.clientY-N.top,y=Math.min(Math.max((N.height-S)/N.height,.1),1);g(y)},j=()=>{const l=new Set(m);l.add(t),u(l),t<n.length-1&&(c(t+1),s(!1))},w=()=>{s(!0),setTimeout(()=>{t<n.length-1&&s(!1)},8e3)};d.useEffect(()=>{const l=setInterval(()=>{!i&&o>.2&&g(N=>Math.max(N-.01,.2))},100);return()=>clearInterval(l)},[i,o]);const x=n[t],r=(t+1)/n.length*100;return e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-blue-900 to-slate-900",children:[e.jsx(C,{color:"#3B82F6",quantity:12}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("button",{onClick:p,className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"感受的浪潮"}),e.jsx("p",{className:"text-white/70",children:"正念情绪练习"})]}),e.jsxs("div",{className:"text-white/80 text-right",children:[e.jsx("div",{className:"text-sm",children:"进度"}),e.jsxs("div",{className:"text-lg font-mono",children:[Math.round(r),"%"]})]})]}),e.jsx("div",{className:"px-6 mb-4",children:e.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${r}%`}})})}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:[e.jsxs("div",{className:"relative w-full max-w-md h-80 mb-8 cursor-pointer",onMouseMove:a,onTouchMove:l=>{l.preventDefault(),a(l.touches[0])},children:[e.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden bg-gradient-to-b from-blue-400/20 to-blue-600/40 border border-blue-400/30",children:[e.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-blue-500/60 to-blue-300/40 transition-all duration-300",style:{height:`${o*100}%`,clipPath:`polygon(0 ${20+Math.sin(Date.now()/1e3)*10}%, 25% ${15+Math.cos(Date.now()/800)*8}%, 50% ${25+Math.sin(Date.now()/600)*12}%, 75% ${18+Math.cos(Date.now()/900)*6}%, 100% ${22+Math.sin(Date.now()/700)*9}%, 100% 100%, 0 100%)`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-white/10 to-white/20"})}),e.jsx("div",{className:"absolute text-4xl transition-all duration-300",style:{left:"50%",top:`${100-o*80}%`,transform:"translate(-50%, -50%)"},children:"🏄‍♀️"})]}),!i&&t<3&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-2xl",children:e.jsx("button",{onClick:w,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-400 hover:to-purple-500 transition-all duration-300",children:"开始互动"})})]}),e.jsxs("div",{className:"text-center max-w-lg mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:x.title}),e.jsx("p",{className:"text-white/90 text-lg mb-3",children:x.instruction}),e.jsx("p",{className:"text-white/70 text-sm mb-4",children:x.detail}),e.jsx("p",{className:"text-blue-300 text-sm italic",children:x.action})]}),e.jsx("div",{className:"flex space-x-4",children:t<n.length-1?e.jsx("button",{onClick:j,disabled:i,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-400 hover:to-purple-500 transition-all duration-300 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"下一步"}):e.jsx("button",{onClick:()=>f(),className:"px-8 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold rounded-lg hover:from-green-400 hover:to-green-500 transition-all duration-300 shadow-lg",children:"完成练习"})})]}),e.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-500/10 to-purple-500/10 border-t border-blue-400/20",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-white/70 text-sm",children:"记住：情绪就像波浪，它们会来也会走。你只需要学会与它们和谐共处。"})})})]})]})},M=({onComplete:f,onBack:p})=>{var w,x;const[t,c]=d.useState(0),[o,g]=d.useState({identify:"",challenge:"",reframe:""}),i=[{id:"identify",title:"第一步：识别想法",question:"写下此刻最让你痛苦的想法",placeholder:"例如：我永远不会成功...",instruction:"诚实地写下你脑海中最困扰你的想法，不要评判它，只是记录下来。",icon:"🔍",color:"from-red-500 to-orange-500"},{id:"challenge",title:"第二步：动摇想法",question:"这个想法100%是事实吗？有没有其他可能性？",placeholder:"例如：也许这只是我现在的感受，不代表永远...",instruction:"质疑这个想法的绝对性。寻找证据，考虑其他角度和可能性。",icon:"❓",color:"from-orange-500 to-yellow-500"},{id:"reframe",title:"第三步：重构想法",question:"如果一个朋友遇到同样情况，你会对他说什么？",placeholder:"例如：每个人都会遇到挫折，这是成长的一部分...",instruction:"用对待好朋友的温暖和理解来对待自己。提供支持和鼓励的话语。",icon:"💝",color:"from-yellow-500 to-green-500"}],s=i[t],m=(t+1)/i.length*100,u=r=>{g(l=>({...l,[s.id]:r}))},n=()=>{t<i.length-1?c(t+1):f(o)},a=()=>{t>0&&c(t-1)},j=((w=o[s.id])==null?void 0:w.trim().length)>10;return e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-purple-900 to-slate-900",children:[e.jsx(C,{color:"#8B5CF6",quantity:10}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("button",{onClick:p,className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"思维降温"}),e.jsx("p",{className:"text-white/70",children:"三步法重构想法"})]}),e.jsxs("div",{className:"text-white/80 text-right",children:[e.jsx("div",{className:"text-sm",children:"步骤"}),e.jsxs("div",{className:"text-lg font-mono",children:[t+1,"/3"]})]})]}),e.jsxs("div",{className:"px-6 mb-6",children:[e.jsx("div",{className:"w-full bg-white/20 rounded-full h-3",children:e.jsx("div",{className:`bg-gradient-to-r ${s.color} h-3 rounded-full transition-all duration-500`,style:{width:`${m}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-white/60",children:[e.jsx("span",{children:"识别"}),e.jsx("span",{children:"动摇"}),e.jsx("span",{children:"重构"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:[e.jsx("div",{className:"w-full max-w-2xl",children:e.jsx("div",{className:`bg-gradient-to-br ${s.color} p-1 rounded-2xl mb-8`,children:e.jsxs("div",{className:"bg-slate-900/90 rounded-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-6xl mb-4",children:s.icon}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:s.title}),e.jsx("p",{className:"text-white/80 text-lg",children:s.question})]}),e.jsx("div",{className:"bg-white/5 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:s.instruction})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("textarea",{value:o[s.id],onChange:r=>u(r.target.value),placeholder:s.placeholder,className:"w-full h-32 p-4 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 resize-none focus:outline-none focus:border-white/40 focus:bg-white/15 transition-all duration-300",style:{minHeight:"120px"}}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-white/50",children:[e.jsxs("span",{children:[((x=o[s.id])==null?void 0:x.length)||0," 字符"]}),e.jsx("span",{children:j?"✓ 可以继续":"至少输入10个字符"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:a,disabled:t===0,className:"px-6 py-3 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一步"}),e.jsx("button",{onClick:n,disabled:!j,className:`px-8 py-3 bg-gradient-to-r ${s.color} text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed`,children:t===i.length-1?"完成练习":"下一步"})]})]})})}),t>0&&e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsx("h3",{className:"text-white/80 text-lg mb-4",children:"你的回答回顾："}),e.jsx("div",{className:"space-y-3",children:i.slice(0,t).map((r,l)=>e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:r.icon}),e.jsx("span",{className:"text-white/80 text-sm font-medium",children:r.title})]}),e.jsx("p",{className:"text-white/70 text-sm line-clamp-2",children:o[r.id]})]},r.id))})]})]}),e.jsx("div",{className:"p-6 bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-t border-purple-400/20",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-white/70 text-sm",children:"💡 记住：想法不等于事实。通过质疑和重构，我们可以改变与想法的关系。"})})})]})]})},F=({onComplete:f,onBack:p})=>{var x;const[t,c]=d.useState(0),[o,g]=d.useState({situation:"",emotion:5,thought:"",trap:"",evidence:""}),i=[{id:"situation",title:"发生了什么？",question:"描述一下当时的具体情况",placeholder:"例如：今天开会时，我的提案被否决了...",type:"textarea",icon:"📝"},{id:"emotion",title:"情绪强度如何？",question:"用1-10分评估你当时的情绪强度",placeholder:"1分=非常轻微，10分=极其强烈",type:"slider",icon:"😔"},{id:"thought",title:"热点想法是什么？",question:"当时脑海里闪过的第一个想法是什么？",placeholder:"例如：我真是个失败者，永远做不好任何事...",type:"textarea",icon:"💭"},{id:"trap",title:"思维陷阱识别",question:"这个想法符合哪种思维陷阱？",type:"select",icon:"🕳️",options:["全或无思维（非黑即白）","过度概括（以偏概全）","心理过滤（只看消极面）","否定积极面","妄下结论（读心术/算命师错误）","夸大或缩小","情绪化推理","应该句式","贴标签","个人化（自我归因）"]},{id:"evidence",title:"寻找反驳证据",question:"有什么证据可以反驳这个想法？",placeholder:"例如：我之前也有成功的项目，这次只是一个提案被否决，不代表我整个人都失败...",type:"textarea",icon:"🔍"}],s=i[t],m=(t+1)/i.length*100,u=r=>{g(l=>({...l,[s.id]:r}))},n=()=>{t<i.length-1?c(t+1):f(o)},a=()=>{t>0&&c(t-1)},j=()=>{const r=o[s.id];return s.type==="textarea"?r&&r.trim().length>5:s.type==="select"?r&&r.trim().length>0:s.type==="slider"},w=()=>{const r=o[s.id];if(s.type==="textarea")return e.jsx("textarea",{value:r,onChange:l=>u(l.target.value),placeholder:s.placeholder,className:"w-full h-32 p-4 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 resize-none focus:outline-none focus:border-white/40 focus:bg-white/15 transition-all duration-300"});if(s.type==="slider")return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-white/70 text-sm",children:[e.jsx("span",{children:"1 (轻微)"}),e.jsx("span",{className:"text-white font-bold text-lg",children:r}),e.jsx("span",{children:"10 (极强)"})]}),e.jsx("input",{type:"range",min:"1",max:"10",value:r,onChange:l=>u(parseInt(l.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer slider"}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-white/10 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:r<=3?"😌":r<=6?"😟":r<=8?"😰":"😱"}),e.jsx("span",{className:"text-white/80",children:r<=3?"轻微":r<=6?"中等":r<=8?"强烈":"极强"})]})})]});if(s.type==="select")return e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:s.options.map((l,N)=>e.jsx("button",{onClick:()=>u(l),className:`w-full p-3 text-left rounded-lg border transition-all duration-300 ${r===l?"bg-blue-500/30 border-blue-400 text-white":"bg-white/5 border-white/20 text-white/80 hover:bg-white/10 hover:border-white/30"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${r===l?"bg-blue-400 border-blue-400":"border-white/40"}`}),e.jsx("span",{className:"text-sm",children:l})]})},N))})};return e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-blue-900 to-slate-900",children:[e.jsx(C,{color:"#3B82F6",quantity:10}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("button",{onClick:p,className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"思维侦探"}),e.jsx("p",{className:"text-white/70",children:"CBT认知行为分析"})]}),e.jsxs("div",{className:"text-white/80 text-right",children:[e.jsx("div",{className:"text-sm",children:"步骤"}),e.jsxs("div",{className:"text-lg font-mono",children:[t+1,"/",i.length]})]})]}),e.jsx("div",{className:"px-6 mb-6",children:e.jsx("div",{className:"w-full bg-white/20 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-cyan-500 h-3 rounded-full transition-all duration-500",style:{width:`${m}%`}})})}),e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:e.jsx("div",{className:"w-full max-w-2xl",children:e.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-1 rounded-2xl mb-8",children:e.jsxs("div",{className:"bg-slate-900/90 rounded-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-6xl mb-4",children:s.icon}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:s.title}),e.jsx("p",{className:"text-white/80 text-lg",children:s.question})]}),e.jsxs("div",{className:"mb-6",children:[w(),s.type==="textarea"&&e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-white/50",children:[e.jsxs("span",{children:[((x=o[s.id])==null?void 0:x.length)||0," 字符"]}),e.jsx("span",{children:j()?"✓ 可以继续":"请输入至少5个字符"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:a,disabled:t===0,className:"px-6 py-3 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一步"}),e.jsx("button",{onClick:n,disabled:!j(),className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:t===i.length-1?"完成分析":"下一步"})]})]})})})}),e.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border-t border-blue-400/20",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-white/70 text-sm",children:"🔍 通过系统性分析，我们可以更好地理解和改变自动化思维模式"})})})]}),e.jsx("style",{jsx:!0,children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }
        
        .slider::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          border: none;
          box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }
      `})]})},G=({onComplete:f,onBack:p})=>{const[t,c]=d.useState("explore"),[o,g]=d.useState({}),[i,s]=d.useState(""),m={relationships:{title:"人际关系",icon:"👥",color:"from-pink-500 to-rose-500",values:[{id:"family",name:"家庭",description:"与家人建立深厚的联系"},{id:"friendship",name:"友谊",description:"培养真诚的友谊关系"},{id:"love",name:"爱情",description:"寻找和维护浪漫关系"},{id:"community",name:"社区",description:"参与社区活动，帮助他人"},{id:"connection",name:"连接",description:"与他人建立有意义的联系"}]},work:{title:"工作事业",icon:"💼",color:"from-blue-500 to-indigo-500",values:[{id:"achievement",name:"成就",description:"追求卓越和成功"},{id:"creativity",name:"创造力",description:"发挥创新和想象力"},{id:"leadership",name:"领导力",description:"引导和影响他人"},{id:"learning",name:"学习",description:"不断获取新知识和技能"},{id:"contribution",name:"贡献",description:"为社会做出有价值的贡献"}]},personal:{title:"个人成长",icon:"🌱",color:"from-green-500 to-emerald-500",values:[{id:"health",name:"健康",description:"保持身心健康"},{id:"spirituality",name:"精神",description:"追求精神层面的成长"},{id:"adventure",name:"冒险",description:"探索新的体验和挑战"},{id:"freedom",name:"自由",description:"拥有选择和决定的自由"},{id:"authenticity",name:"真实",description:"做真实的自己"}]},leisure:{title:"休闲娱乐",icon:"🎨",color:"from-purple-500 to-violet-500",values:[{id:"fun",name:"乐趣",description:"享受生活中的快乐时光"},{id:"beauty",name:"美感",description:"欣赏和创造美好事物"},{id:"nature",name:"自然",description:"与大自然和谐相处"},{id:"culture",name:"文化",description:"体验不同的文化和艺术"},{id:"peace",name:"平静",description:"寻求内心的宁静和平衡"}]}},u=(y,k)=>{const b=`${y}_${k}`;g(h=>({...h,[b]:!h[b]}))},n=()=>Object.values(o).filter(Boolean).length,a=()=>{const y=[];return Object.entries(m).forEach(([k,b])=>{b.values.forEach(h=>{const v=`${k}_${h.id}`;o[v]&&y.push(h.name)})}),y.join("、")},j=()=>{t==="explore"&&n()>0?c("action"):t==="action"&&i.trim().length>10?c("commit"):t==="commit"&&f({selectedValues:o,actionPlan:i,selectedValuesText:a()})},w=()=>{t==="action"?c("explore"):t==="commit"&&c("action")},x=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🧭"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"探索你的价值观"}),e.jsx("p",{className:"text-white/80 text-lg mb-4",children:"选择对你最重要的价值观（可多选）"}),e.jsxs("div",{className:"text-white/60 text-sm",children:["已选择 ",n()," 个价值观"]})]}),e.jsx("div",{className:"space-y-6",children:Object.entries(m).map(([y,k])=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-r ${k.color} flex items-center justify-center`,children:e.jsx("span",{className:"text-lg",children:k.icon})}),e.jsx("h3",{className:"text-white font-semibold text-lg",children:k.title})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:k.values.map(b=>{const h=`${y}_${b.id}`,v=o[h];return e.jsx("button",{onClick:()=>u(y,b.id),className:`p-4 rounded-lg border transition-all duration-300 text-left ${v?`bg-gradient-to-r ${k.color} bg-opacity-30 border-white/40 text-white`:"bg-white/5 border-white/20 text-white/80 hover:bg-white/10 hover:border-white/30"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:b.name}),e.jsx("p",{className:"text-sm opacity-80",children:b.description})]}),e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${v?"bg-white border-white":"border-white/40"}`,children:v&&e.jsx("span",{className:"text-purple-600 text-sm",children:"✓"})})]})},b.id)})})]},y))})]}),r=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"制定行动计划"}),e.jsx("p",{className:"text-white/80 text-lg mb-4",children:"基于你选择的价值观，设定一个具体的今日行动"})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-white font-medium mb-2",children:"你选择的价值观："}),e.jsx("p",{className:"text-white/80 text-sm",children:a()})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-white font-medium",children:"今日行动计划"}),e.jsx("textarea",{value:i,onChange:y=>s(y.target.value),placeholder:"例如：给一位老朋友发条问候短信，表达我对友谊的重视...",className:"w-full h-32 p-4 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 resize-none focus:outline-none focus:border-white/40 focus:bg-white/15 transition-all duration-300"}),e.jsxs("div",{className:"flex justify-between text-xs text-white/50",children:[e.jsxs("span",{children:[i.length," 字符"]}),e.jsx("span",{children:i.trim().length>10?"✓ 可以继续":"请输入至少10个字符"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-lg p-4 border border-yellow-400/20",children:[e.jsx("h4",{className:"text-yellow-300 font-medium mb-2",children:"💡 行动建议"}),e.jsxs("ul",{className:"text-white/70 text-sm space-y-1",children:[e.jsx("li",{children:"• 选择一个小而具体的行动"}),e.jsx("li",{children:"• 确保今天就能完成"}),e.jsx("li",{children:"• 与你的核心价值观保持一致"}),e.jsx("li",{children:"• 专注于过程而非结果"})]})]})]}),l=()=>e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"✨"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"承诺与行动"}),e.jsx("p",{className:"text-white/80 text-lg mb-8",children:"你已经完成了价值观探索和行动规划！"}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-400/30 text-left",children:[e.jsx("h3",{className:"text-white font-bold text-lg mb-4",children:"你的价值罗盘"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-purple-300 font-medium mb-2",children:"核心价值观"}),e.jsx("p",{className:"text-white/80 text-sm",children:a()})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-purple-300 font-medium mb-2",children:"今日行动"}),e.jsx("p",{className:"text-white/80 text-sm",children:i})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 rounded-lg p-4 border border-green-400/20",children:e.jsx("p",{className:"text-white/90 text-sm leading-relaxed",children:"🌟 记住：价值观是指引我们前进的北极星。当我们按照价值观行动时， 即使面临困难，我们也能感受到生活的意义和满足感。"})})]}),N=()=>t==="explore"?n()>0:t==="action"?i.trim().length>10:!0,S=()=>{switch(t){case"explore":return"1/3 探索价值观";case"action":return"2/3 制定行动";case"commit":return"3/3 承诺行动";default:return""}};return e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-purple-900 to-slate-900",children:[e.jsx(C,{color:"#A855F7",quantity:10}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("button",{onClick:p,className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"价值罗盘"}),e.jsx("p",{className:"text-white/70",children:"ACT价值观探索"})]}),e.jsxs("div",{className:"text-white/80 text-right",children:[e.jsx("div",{className:"text-sm",children:"阶段"}),e.jsx("div",{className:"text-lg font-mono",children:S()})]})]}),e.jsx("div",{className:"px-6 mb-6",children:e.jsx("div",{className:"w-full bg-white/20 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-500 h-3 rounded-full transition-all duration-500",style:{width:`${t==="explore"?33:t==="action"?66:100}%`}})})}),e.jsx("div",{className:"flex-1 px-6 pb-24 overflow-y-auto",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[t==="explore"&&x(),t==="action"&&r(),t==="commit"&&l()]})}),e.jsx("div",{className:"p-6 bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-t border-purple-400/20",children:e.jsxs("div",{className:"flex justify-between max-w-2xl mx-auto",children:[e.jsx("button",{onClick:w,disabled:t==="explore",className:"px-6 py-3 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一步"}),e.jsx("button",{onClick:j,disabled:!N(),className:"px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:t==="commit"?"完成练习":"下一步"})]})})]})]})},O=({onComplete:f,onBack:p})=>{const[t,c]=d.useState(null),[o,g]=d.useState({}),[i,s]=d.useState(new Set),m=[{id:"bubble",title:"思维泡泡",description:"将负面想法装进泡泡，看着它们飘走",icon:"🫧",color:"from-blue-400 to-cyan-500",duration:"2-3分钟"},{id:"train",title:"思维列车",description:"作为月台观察者，看着想法列车驶过",icon:"🚂",color:"from-green-400 to-teal-500",duration:"3-4分钟"},{id:"gratitude",title:"感谢大脑",description:"对产生的想法表达感谢和理解",icon:"🧠",color:"from-purple-400 to-pink-500",duration:"1-2分钟"},{id:"voice",title:"滑稽声音",description:'用有趣的声音重新"演绎"负面想法',icon:"🎭",color:"from-orange-400 to-red-500",duration:"2-3分钟"},{id:"leaves",title:"溪流叶子",description:"想象想法是飘在溪流上的叶子",icon:"🍃",color:"from-green-500 to-emerald-500",duration:"4-5分钟"}],u=x=>{s(r=>new Set([...r,x])),c(null),g({}),i.size+1>=m.length&&setTimeout(()=>f(),1e3)},n=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🎮"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"选择思维游戏"}),e.jsx("p",{className:"text-white/80 text-lg mb-4",children:"通过游戏化练习，学会与想法拉开距离"}),e.jsxs("div",{className:"text-white/60 text-sm",children:["已完成 ",i.size,"/",m.length," 个游戏"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:m.map(x=>{const r=i.has(x.id);return e.jsxs("button",{onClick:()=>!r&&c(x.id),disabled:r,className:`p-6 rounded-2xl border transition-all duration-300 text-left relative ${r?"bg-green-500/20 border-green-400/30 cursor-default":`bg-gradient-to-r ${x.color} bg-opacity-20 border-white/20 hover:border-white/40 hover:scale-105 cursor-pointer`}`,children:[r&&e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-sm",children:"✓"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${x.color} flex items-center justify-center shadow-lg`,children:e.jsx("span",{className:"text-3xl",children:x.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:x.title}),e.jsx("p",{className:"text-white/80 text-sm mb-2",children:x.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-white/60 text-xs",children:["⏱ ",x.duration]}),r?e.jsx("span",{className:"text-green-400 text-xs font-medium",children:"已完成"}):e.jsx("span",{className:"text-white/40 text-xs",children:"点击开始 →"})]})]})]})]},x.id)})}),i.size===m.length&&e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-green-500/20 to-blue-500/20 backdrop-blur-sm rounded-2xl p-6 border border-green-400/30 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:"🎉"}),e.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"所有游戏完成！"}),e.jsx("p",{className:"text-white/80 text-sm",children:"恭喜你体验了所有的思维游戏。记住，想法只是想法，不是事实。"})]})]}),a=()=>{const[x,r]=d.useState(""),[l,N]=d.useState([]),[S,y]=d.useState(!0),k=()=>{if(x.trim()){const b={id:Date.now(),text:x.trim(),x:Math.random()*60+20,y:100,opacity:1};N(h=>[...h,b]),r(""),y(!1),setTimeout(()=>{N(h=>h.map(v=>v.id===b.id?{...v,y:-20,opacity:0}:v))},100),setTimeout(()=>{N(h=>h.filter(v=>v.id!==b.id)),y(!0)},3e3)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🫧"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"思维泡泡"}),e.jsx("p",{className:"text-white/80 text-lg",children:"将你的想法装进泡泡，看着它们轻盈地飘走"})]}),e.jsx("div",{className:"relative h-80 bg-gradient-to-b from-blue-500/10 to-cyan-500/10 rounded-2xl border border-blue-400/20 overflow-hidden",children:l.map(b=>e.jsx("div",{className:"absolute transition-all duration-3000 ease-out",style:{left:`${b.x}%`,bottom:`${b.y}%`,opacity:b.opacity,transform:"translateX(-50%)"},children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-400/30 to-cyan-400/30 rounded-full border border-blue-300/50 flex items-center justify-center backdrop-blur-sm",children:e.jsx("span",{className:"text-white/80 text-xs text-center px-2 leading-tight",children:b.text.length>20?b.text.substring(0,20)+"...":b.text})}),e.jsx("div",{className:"absolute inset-0 w-24 h-24 rounded-full bg-gradient-to-tr from-white/20 to-transparent"})]})},b.id))}),S&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-white font-medium",children:"输入一个困扰你的想法："}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("input",{type:"text",value:x,onChange:b=>r(b.target.value),placeholder:"例如：我永远不会成功...",className:"flex-1 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-white/40 focus:bg-white/15 transition-all duration-300",onKeyPress:b=>b.key==="Enter"&&k()}),e.jsx("button",{onClick:k,disabled:!x.trim(),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"制造泡泡"})]})]}),!S&&e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/80 text-sm mb-4",children:"看着你的想法慢慢飘走...想法来了又走，这是很自然的。"}),e.jsx("button",{onClick:()=>y(!0),className:"px-6 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-all duration-300",children:"继续添加想法"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>u("bubble"),className:"px-8 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300",children:"完成游戏"})})]})},j=()=>{const[x,r]=d.useState([]),[l,N]=d.useState(""),[S,y]=d.useState(!1),k=()=>{if(l.trim()){const h={id:Date.now(),text:l.trim(),position:120};r(T=>[...T,h]),N("");const v=setInterval(()=>{r(T=>T.map($=>$.id===h.id?{...$,position:$.position-2}:$))},50);setTimeout(()=>{clearInterval(v),r(T=>T.filter($=>$.id!==h.id))},8e3)}},b=()=>{y(!0),["我不够好","别人会怎么看我","我应该更努力","我又搞砸了","我很焦虑"].forEach((v,T)=>{setTimeout(()=>{N(v),setTimeout(()=>k(),100)},T*2e3)}),setTimeout(()=>{y(!1)},12e3)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🚂"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"思维列车"}),e.jsx("p",{className:"text-white/80 text-lg",children:"你是月台上的观察者，看着想法列车从面前驶过"})]}),e.jsxs("div",{className:"relative h-60 bg-gradient-to-b from-gray-800/20 to-gray-900/20 rounded-2xl border border-gray-400/20 overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-16 w-full h-2 bg-gradient-to-r from-gray-600 to-gray-500 opacity-60"}),e.jsx("div",{className:"absolute bottom-14 w-full h-1 bg-gradient-to-r from-gray-500 to-gray-400 opacity-40"}),e.jsxs("div",{className:"absolute bottom-8 left-8",children:[e.jsx("div",{className:"text-4xl",children:"🧍‍♀️"}),e.jsx("div",{className:"text-white/60 text-xs text-center",children:"观察者"})]}),x.map(h=>e.jsx("div",{className:"absolute bottom-20 transition-all duration-100 ease-linear",style:{right:`${h.position}%`},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-lg p-3 shadow-lg min-w-32 max-w-48",children:e.jsx("div",{className:"text-white text-sm font-medium text-center",children:h.text})}),e.jsx("div",{className:"text-3xl ml-2",children:"🚂"})]})},h.id))]}),S?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/80 text-sm mb-4",children:"保持观察者的角色，不要跳上任何一列火车。让想法自然地驶过..."}),e.jsx("div",{className:"text-white/60 text-xs",children:"观察练习进行中..."})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("input",{type:"text",value:l,onChange:h=>N(h.target.value),placeholder:"输入一个想法，让它成为火车...",className:"flex-1 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-white/40 focus:bg-white/15 transition-all duration-300",onKeyPress:h=>h.key==="Enter"&&k()}),e.jsx("button",{onClick:k,disabled:!l.trim(),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-teal-500 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"发车"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:b,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300",children:"开始观察练习"})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>u("train"),className:"px-8 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300",children:"完成游戏"})})]})},w=(x,r,l,N,S)=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:l}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:r}),e.jsx("p",{className:"text-white/80 text-lg",children:N})]}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-400/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/90 text-lg leading-relaxed mb-6",children:S}),e.jsx("button",{onClick:()=>u(x),className:"px-8 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300",children:"我已经尝试了"})]})})]});return t==="bubble"?e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-blue-900 to-slate-900",children:[e.jsx(C,{color:"#06B6D4",quantity:8}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between p-6",children:e.jsxs("button",{onClick:()=>c(null),className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]})}),e.jsx("div",{className:"flex-1 px-6 pb-24",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:a()})})]})]}):t==="train"?e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-green-900 to-slate-900",children:[e.jsx(C,{color:"#10B981",quantity:8}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between p-6",children:e.jsxs("button",{onClick:()=>c(null),className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]})}),e.jsx("div",{className:"flex-1 px-6 pb-24",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:j()})})]})]}):t==="gratitude"?e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-purple-900 to-slate-900",children:[e.jsx(C,{color:"#A855F7",quantity:8}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between p-6",children:e.jsxs("button",{onClick:()=>c(null),className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]})}),e.jsx("div",{className:"flex-1 px-6 pb-24",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:w("gratitude","感谢大脑","🧠","学会对大脑产生的想法表达感谢",'当负面想法出现时，试着说："谢谢你，我的大脑，又产生了这么有趣的想法。你在努力保护我，虽然这次可能不太准确。"')})})]})]}):t==="voice"?e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-orange-900 to-slate-900",children:[e.jsx(C,{color:"#F97316",quantity:8}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between p-6",children:e.jsxs("button",{onClick:()=>c(null),className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]})}),e.jsx("div",{className:"flex-1 px-6 pb-24",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:w("voice","滑稽声音","🎭","用有趣的声音重新演绎负面想法",'想象用卡通角色的声音（比如唐老鸭、米老鼠）来"说出"你的负面想法。这样可以降低想法的严肃性和威胁感。')})})]})]}):t==="leaves"?e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-emerald-900 to-slate-900",children:[e.jsx(C,{color:"#10B981",quantity:8}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between p-6",children:e.jsxs("button",{onClick:()=>c(null),className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]})}),e.jsx("div",{className:"flex-1 px-6 pb-24",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:w("leaves","溪流叶子","🍃","想象想法是飘在溪流上的叶子","闭上眼睛，想象自己坐在小溪边。每当有想法出现时，就把它放在一片叶子上，看着叶子顺着溪流慢慢飘走。不要试图阻止或加速，只是观察。")})})]})]}):e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-indigo-900 to-slate-900",children:[e.jsx(C,{color:"#6366F1",quantity:10}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("button",{onClick:p,className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"思维游戏"}),e.jsx("p",{className:"text-white/70",children:"ACT认知解离练习"})]}),e.jsx("div",{className:"w-16"})]}),e.jsx("div",{className:"flex-1 px-6 pb-24",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:n()})})]})]})},V=({onBack:f})=>{const[p,t]=d.useState(null),[c,o]=d.useState(new Set),[g]=d.useState(new Date().toDateString()),i=[{id:"detective",title:"思维侦探日志",subtitle:"CBT认知行为疗法",description:"通过引导式提问分析和重构自动化思维",icon:"🔍",color:"from-blue-500 to-cyan-500",bgColor:"from-blue-500/20 to-cyan-500/20",borderColor:"border-blue-400/30",duration:"8-10分钟",type:"CBT"},{id:"compass",title:"价值罗盘",subtitle:"ACT接纳承诺疗法",description:"探索内在价值观并设定具体行动",icon:"🧭",color:"from-purple-500 to-pink-500",bgColor:"from-purple-500/20 to-pink-500/20",borderColor:"border-purple-400/30",duration:"6-8分钟",type:"ACT"},{id:"games",title:"思维游戏",subtitle:"ACT认知解离练习",description:"通过游戏化练习与想法拉开距离",icon:"🎮",color:"from-green-500 to-teal-500",bgColor:"from-green-500/20 to-teal-500/20",borderColor:"border-green-400/30",duration:"5-7分钟",type:"ACT"}],s=a=>{const j=`${a}_${g}`;return localStorage.getItem(j)==="completed"},m=a=>{const j=`${a}_${g}`;localStorage.setItem(j,"completed"),o(w=>new Set([...w,a]))};d.useEffect(()=>{const a=new Set;i.forEach(j=>{s(j.id)&&a.add(j.id)}),o(a)},[]);const u=a=>{m(a),t(null)},n=a=>{t(a)};return p==="detective"?e.jsx(F,{onComplete:()=>u("detective"),onBack:()=>t(null)}):p==="compass"?e.jsx(G,{onComplete:()=>u("compass"),onBack:()=>t(null)}):p==="games"?e.jsx(O,{onComplete:()=>u("games"),onBack:()=>t(null)}):e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-900 via-indigo-900 to-slate-900",children:[e.jsx(C,{color:"#6366F1",quantity:12}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"←"}),e.jsx("span",{children:"返回"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"每日旅程"}),e.jsx("p",{className:"text-white/70",children:"今天的心理健康学习"})]}),e.jsxs("div",{className:"text-white/80 text-right",children:[e.jsx("div",{className:"text-sm",children:"今日进度"}),e.jsxs("div",{className:"text-lg font-mono",children:[c.size,"/",i.length]})]})]}),e.jsxs("div",{className:"text-center px-6 mb-8",children:[e.jsx("div",{className:"text-white/60 text-sm mb-2",children:new Date().toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),e.jsx("div",{className:"text-white/90 text-lg",children:"每天进步一点点，心理健康每一天 ✨"})]}),e.jsxs("div",{className:"flex-1 px-6 pb-24",children:[e.jsx("div",{className:"space-y-6",children:i.map((a,j)=>{const w=c.has(a.id);return e.jsx("div",{className:"relative cursor-pointer",onClick:()=>n(a.id),children:e.jsxs("div",{className:`bg-gradient-to-r ${a.bgColor} backdrop-blur-sm rounded-2xl p-6 border ${a.borderColor} hover:border-white/40 transition-all duration-300 hover:scale-105 hover:shadow-2xl`,children:[w&&e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-sm",children:"✓"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${a.color} flex items-center justify-center shadow-lg`,children:e.jsx("span",{className:"text-3xl",children:a.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-white font-bold text-lg",children:a.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.type==="CBT"?"bg-blue-500/30 text-blue-200":"bg-purple-500/30 text-purple-200"}`,children:a.type})]}),e.jsx("p",{className:"text-white/60 text-sm mb-2",children:a.subtitle}),e.jsx("p",{className:"text-white/80 text-sm mb-3",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-white/60 text-xs",children:["⏱ ",a.duration]}),w?e.jsx("span",{className:"text-green-400 text-xs font-medium",children:"今日已完成"}):e.jsx("span",{className:"text-white/40 text-xs",children:"点击开始 →"})]})]})]})]})},a.id)})}),c.size===i.length&&e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-green-500/20 to-blue-500/20 backdrop-blur-sm rounded-2xl p-6 border border-green-400/30 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:"🎉"}),e.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"今日旅程完成！"}),e.jsx("p",{className:"text-white/80 text-sm",children:"恭喜你完成了今天的所有心理健康练习。坚持就是胜利！"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("p",{className:"text-white/60 text-sm",children:"💡 建议每天选择1-2个练习，循序渐进地提升心理健康水平"})})]})]})]})},_=({onBack:f})=>{const[p,t]=d.useState([]),[c,o]=d.useState(null);d.useEffect(()=>{t([{id:1,type:"pattern",title:"情绪模式发现",description:'我们发现，你记录的焦虑情绪大多出现在周日下午。这通常与"周一恐惧症"有关。',icon:"📊",severity:"medium",suggestions:["尝试在周日安排一些愉快的活动","提前准备周一的工作计划","练习放松技巧来缓解预期焦虑"],data:[{day:"周一",anxiety:3},{day:"周二",anxiety:2},{day:"周三",anxiety:2},{day:"周四",anxiety:3},{day:"周五",anxiety:1},{day:"周六",anxiety:1},{day:"周日",anxiety:7}]},{id:2,type:"cbt_act_fusion",title:"CBT与ACT融合建议",description:'这个念头似乎很有粘性。想不想试试一个"思维游戏"来减少它的困扰？',icon:"🧠",severity:"high",suggestions:['尝试"思维列车"练习，观察想法而不跳上车','使用"感谢大脑"技巧来与想法保持距离',"继续CBT分析来挑战这个想法的真实性"],triggerThought:"我永远不会成功"},{id:3,type:"value_alignment",title:"价值观对齐分析",description:'你在"家庭"价值观上的行动投入较少，但这是你选择的重要价值观之一。',icon:"🧭",severity:"medium",suggestions:["安排更多与家人共度的时光","主动联系家庭成员","在日常决策中考虑家庭价值观"],valueData:[{value:"家庭",importance:9,action:4},{value:"友谊",importance:8,action:7},{value:"学习",importance:7,action:8},{value:"健康",importance:6,action:5}]}])},[]);const g=s=>{switch(s){case"high":return"from-red-400 to-pink-500";case"medium":return"from-yellow-400 to-orange-500";case"low":return"from-green-400 to-emerald-500";default:return"from-blue-400 to-cyan-500"}},i=s=>{switch(s){case"high":return"🚨";case"medium":return"⚠️";case"low":return"💡";default:return"ℹ️"}};return c?e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/src/assets/insights-bg.webp")',filter:"brightness(0.7)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-900/40 via-purple-900/30 to-blue-900/50"}),e.jsx(C,{color:"#8B5CF6",quantity:6}),e.jsxs("div",{className:"relative z-10 min-h-screen p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:()=>o(null),className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-xl",children:"←"}),e.jsx("span",{children:"返回"})]}),e.jsx("h1",{className:"text-xl font-bold text-white",children:"洞察详情"}),e.jsx("div",{className:"w-16"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 mb-6",children:[e.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${g(c.severity)} flex items-center justify-center text-2xl shadow-lg`,children:c.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:c.title}),e.jsx("span",{className:"text-lg",children:i(c.severity)})]}),e.jsx("p",{className:"text-white/80 leading-relaxed",children:c.description})]})]}),c.data&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mb-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"数据趋势"}),e.jsx("div",{className:"h-48 bg-white/10 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white/60",children:"📈 焦虑情绪周趋势图"})})]}),c.valueData&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mb-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"价值观对齐分析"}),e.jsx("div",{className:"h-48 bg-white/10 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white/60",children:"🎯 价值观重要性 vs 行动投入雷达图"})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"💡"}),"个性化建议"]}),e.jsx("div",{className:"space-y-3",children:c.suggestions.map((s,m)=>e.jsx("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-yellow-400 to-orange-400 flex items-center justify-center text-xs font-bold text-white mt-0.5",children:m+1}),e.jsx("p",{className:"text-white/90 leading-relaxed flex-1",children:s})]})},m))})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-500 text-white py-3 px-6 rounded-xl font-semibold hover:from-blue-600 hover:to-cyan-600 transition-all duration-300 shadow-lg",children:"开始练习"}),e.jsx("button",{className:"flex-1 bg-white/10 backdrop-blur-sm text-white py-3 px-6 rounded-xl font-semibold border border-white/20 hover:bg-white/20 transition-all duration-300",children:"稍后提醒"})]})]})]}):e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/src/assets/insights-bg.webp")',filter:"brightness(0.7)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-900/40 via-purple-900/30 to-blue-900/50"}),e.jsx(C,{color:"#8B5CF6",quantity:6}),e.jsxs("div",{className:"relative z-10 min-h-screen p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-xl",children:"←"}),e.jsx("span",{children:"返回"})]}),e.jsx("h1",{className:"text-xl font-bold text-white",children:"智能洞察"}),e.jsx("div",{className:"w-16"})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-r from-purple-400 to-indigo-500 flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-3xl",children:"🔍"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"个性化洞察"}),e.jsx("p",{className:"text-white/80",children:"基于你的数据，发现模式和提供建议"})]}),e.jsx("div",{className:"space-y-4 mb-6",children:p.map(s=>e.jsx("div",{onClick:()=>o(s),className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20 hover:bg-white/20 hover:border-purple-400/50 transition-all duration-300 cursor-pointer",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${g(s.severity)} flex items-center justify-center text-2xl shadow-lg`,children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-white font-semibold",children:s.title}),e.jsx("span",{className:"text-sm",children:i(s.severity)})]}),e.jsx("p",{className:"text-white/70 text-sm leading-relaxed mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-white/50",children:[s.suggestions.length," 个建议"]}),e.jsx("span",{className:"text-white/40 text-xl",children:"→"})]})]})]})},s.id))}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/5 backdrop-blur-sm rounded-full px-4 py-2 border border-white/10",children:[e.jsx("span",{className:"text-yellow-400",children:"💡"}),e.jsx("span",{className:"text-white/70 text-sm",children:"洞察每天更新，帮助你更好地了解自己"})]})})]})]})},H=({onBack:f})=>{const[p,t]=d.useState("mood"),c=[{date:"8/8",mood:7,anxiety:3},{date:"8/9",mood:6,anxiety:4},{date:"8/10",mood:8,anxiety:2},{date:"8/11",mood:5,anxiety:6},{date:"8/12",mood:7,anxiety:3},{date:"8/13",mood:9,anxiety:1},{date:"8/14",mood:6,anxiety:4}],o={thoughtPattern:"我永远不会成功",beliefStrength:[{week:"第1周",strength:85},{week:"第2周",strength:78},{week:"第3周",strength:65},{week:"第4周",strength:52}],cognitiveTraps:[{trap:"全或无思维",count:8},{trap:"过度概括",count:12},{trap:"心理过滤",count:5},{trap:"妄下结论",count:7}]},g={values:[{value:"家庭",importance:9,action:4},{value:"友谊",importance:8,action:7},{value:"学习",importance:7,action:8},{value:"健康",importance:6,action:5},{value:"创造力",importance:5,action:3}],psychologicalFlexibility:[{week:"第1周",score:45},{week:"第2周",score:52},{week:"第3周",score:58},{week:"第4周",score:65}]},i=[{id:"mood",label:"情绪趋势",icon:"📊"},{id:"cbt",label:"CBT分析",icon:"🧠"},{id:"act",label:"ACT洞察",icon:"🎯"}],s=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"📈"}),"7天情绪趋势"]}),e.jsx("div",{className:"h-48 bg-white/5 rounded-xl p-4",children:e.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:c.map((n,a)=>e.jsxs("div",{className:"flex flex-col items-center space-y-2 flex-1",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("div",{className:"w-6 bg-gradient-to-t from-green-400 to-emerald-500 rounded-t",style:{height:`${n.mood*12}px`}}),e.jsx("div",{className:"w-6 bg-gradient-to-t from-red-400 to-pink-500 rounded-b",style:{height:`${n.anxiety*8}px`}})]}),e.jsx("span",{className:"text-white/60 text-xs",children:n.date})]},a))})}),e.jsxs("div",{className:"flex justify-center space-x-6 mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-500 rounded"}),e.jsx("span",{className:"text-white/70 text-sm",children:"心情"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-red-400 to-pink-500 rounded"}),e.jsx("span",{className:"text-white/70 text-sm",children:"焦虑"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400 mb-1",children:"7.1"}),e.jsx("div",{className:"text-white/70 text-sm",children:"平均心情"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400 mb-1",children:"3.3"}),e.jsx("div",{className:"text-white/70 text-sm",children:"平均焦虑"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center border border-white/20",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:"7"}),e.jsx("div",{className:"text-white/70 text-sm",children:"记录天数"})]})]})]}),m=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"📉"}),"核心信念强度变化"]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mb-4",children:[e.jsxs("p",{className:"text-white/80 text-center mb-4",children:['"',o.thoughtPattern,'"']}),e.jsx("div",{className:"h-32 flex items-end justify-between space-x-4",children:o.beliefStrength.map((n,a)=>e.jsxs("div",{className:"flex flex-col items-center space-y-2 flex-1",children:[e.jsx("div",{className:"w-8 bg-gradient-to-t from-yellow-400 to-orange-500 rounded-t",style:{height:`${n.strength*.8}px`}}),e.jsx("span",{className:"text-white/60 text-xs",children:n.week}),e.jsxs("span",{className:"text-white/80 text-xs font-semibold",children:[n.strength,"%"]})]},a))})]}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-green-400 text-sm",children:"✓ 信念强度下降了 33%"})})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🕳️"}),"认知陷阱分布"]}),e.jsx("div",{className:"space-y-3",children:o.cognitiveTraps.map((n,a)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-20 text-white/80 text-sm",children:n.trap}),e.jsx("div",{className:"flex-1 bg-white/10 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-400 to-indigo-500 rounded-full",style:{width:`${n.count/12*100}%`}})}),e.jsx("div",{className:"w-8 text-white/60 text-sm text-right",children:n.count})]},a))})]})]}),u=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🎯"}),"价值观对齐分析"]}),e.jsx("div",{className:"h-48 bg-white/5 rounded-xl flex items-center justify-center mb-4",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"w-32 h-32 border-2 border-white/20 rounded-full relative flex items-center justify-center mb-4",children:[e.jsx("span",{className:"text-white/60",children:"价值观雷达图"}),e.jsx("div",{className:"absolute top-2 w-2 h-2 bg-blue-400 rounded-full"}),e.jsx("div",{className:"absolute right-2 w-2 h-2 bg-green-400 rounded-full"}),e.jsx("div",{className:"absolute bottom-2 w-2 h-2 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"absolute left-2 w-2 h-2 bg-red-400 rounded-full"})]})})}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.values.map((n,a)=>e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-white/80 text-sm mb-2",children:n.value}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx("span",{className:"text-white/60",children:"重要性:"}),e.jsx("span",{className:"text-blue-400",children:n.importance}),e.jsx("span",{className:"text-white/60",children:"行动:"}),e.jsx("span",{className:"text-green-400",children:n.action})]})]},a))})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🌊"}),"心理灵活性发展"]}),e.jsx("div",{className:"h-32 bg-white/5 rounded-xl p-4",children:e.jsx("div",{className:"flex items-end justify-between h-full space-x-4",children:g.psychologicalFlexibility.map((n,a)=>e.jsxs("div",{className:"flex flex-col items-center space-y-2 flex-1",children:[e.jsx("div",{className:"w-8 bg-gradient-to-t from-cyan-400 to-blue-500 rounded-t",style:{height:`${n.score}px`}}),e.jsx("span",{className:"text-white/60 text-xs",children:n.week}),e.jsx("span",{className:"text-white/80 text-xs font-semibold",children:n.score})]},a))})}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("span",{className:"text-green-400 text-sm",children:"✓ 心理灵活性提升了 44%"})})]})]});return e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/src/assets/data-bg.webp")',filter:"brightness(0.7)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/40 via-indigo-900/30 to-purple-900/50"}),e.jsx(C,{color:"#3B82F6",quantity:6}),e.jsxs("div",{className:"relative z-10 min-h-screen p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[e.jsx("span",{className:"text-xl",children:"←"}),e.jsx("span",{children:"返回"})]}),e.jsx("h1",{className:"text-xl font-bold text-white",children:"数据可视化"}),e.jsx("div",{className:"w-16"})]}),e.jsx("div",{className:"flex space-x-2 mb-6 bg-white/10 backdrop-blur-sm rounded-xl p-2 border border-white/20",children:i.map(n=>e.jsxs("button",{onClick:()=>t(n.id),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg transition-all duration-300 ${p===n.id?"bg-white/20 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[e.jsx("span",{children:n.icon}),e.jsx("span",{className:"font-medium",children:n.label})]},n.id))}),e.jsxs("div",{className:"pb-6",children:[p==="mood"&&s(),p==="cbt"&&m(),p==="act"&&u()]})]})]})},Q=()=>{const f=D(),[p,t]=d.useState(new Date),[c,o]=d.useState(null),[g,i]=d.useState(!1),[s,m]=d.useState(!1),[u,n]=d.useState(!1);d.useEffect(()=>{const l=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(l)},[]);const a=[{title:"记录情绪",description:"记录当前的心情和想法",icon:"📝",gradient:"from-blue-400 to-cyan-500",hoverGradient:"from-blue-500 to-cyan-600",action:()=>f("/mood-journal")},{title:"每日旅程",description:"系统化的心理健康技能学习",icon:"🗺️",gradient:"from-indigo-400 to-purple-500",hoverGradient:"from-indigo-500 to-purple-600",action:()=>i(!0)},{title:"智能洞察",description:"发现模式并获得个性化建议",icon:"🔍",gradient:"from-purple-400 to-pink-500",hoverGradient:"from-purple-500 to-pink-600",action:()=>m(!0)},{title:"数据可视化",description:"查看你的进步和趋势图表",icon:"📊",gradient:"from-cyan-400 to-blue-500",hoverGradient:"from-cyan-500 to-blue-600",action:()=>n(!0)},{title:"正念练习",description:"开始一段放松的引导练习",icon:"🧘‍♀️",gradient:"from-green-400 to-emerald-500",hoverGradient:"from-green-500 to-emerald-600",action:()=>f("/exercises")},{title:"查看历史",description:"回顾过往的情绪记录",icon:"📚",gradient:"from-amber-400 to-orange-500",hoverGradient:"from-amber-500 to-orange-600",action:()=>f("/history")}],j=["记住，关注自己的情绪是自我关爱的重要一步。","每一次记录都是对自己的温柔关怀。","内心的平静来自于对当下的接纳。","你的感受是有效的，值得被倾听和理解。","成长的路上，温柔地对待自己。"],[w]=d.useState(j[Math.floor(Math.random()*j.length)]),x=()=>{const l=p.getHours();return l<6?"夜深了":l<12?"早上好":l<18?"下午好":"晚上好"},r=()=>{const l=p.getHours();return l<6?"🌙":l<12?"🌅":l<18?"☀️":"🌆"};return s?e.jsx(_,{onBack:()=>m(!1)}):u?e.jsx(H,{onBack:()=>n(!1)}):g?e.jsx(V,{onBack:()=>i(!1)}):c==="breathing"?e.jsx(q,{onComplete:l=>{o(l==="wave"?"wave":null)},onBack:()=>o(null)}):c==="wave"?e.jsx(E,{onComplete:()=>o(null),onBack:()=>o("breathing")}):c==="thought"?e.jsx(M,{onComplete:l=>{console.log("思维降温完成:",l),o(null)},onBack:()=>o(null)}):e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/src/assets/home-bg.webp")',filter:"brightness(0.8)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-amber-900/30 via-green-900/20 to-blue-900/40"}),e.jsx(C,{color:"#FACC15",quantity:8}),e.jsxs("div",{className:"relative z-10 min-h-screen",children:[e.jsxs("div",{className:"text-center pt-8 pb-6",children:[e.jsx("div",{className:"text-white/80 text-sm mb-2",children:p.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),e.jsx("div",{className:"text-white/60 text-xs",children:p.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"text-center mb-8 px-6",children:[e.jsx("div",{className:"relative mb-6",children:e.jsxs("div",{className:"w-24 h-24 mx-auto rounded-full flex items-center justify-center relative",style:{backgroundImage:"url('/src/assets/heart-icon.png')",backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-yellow-400/20 animate-pulse"}),e.jsx("div",{className:"absolute inset-2 rounded-full bg-yellow-400/10 animate-pulse",style:{animationDelay:"0.5s"}})]})}),e.jsxs("h1",{className:"text-3xl font-bold text-white mb-3",children:[r()," ",x()]}),e.jsx("p",{className:"text-white/80 leading-relaxed",children:"今天感觉怎么样？让我们一起关注你的心理健康"})]}),e.jsx("div",{className:"px-6 mb-6",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-1",children:"今日状态"}),e.jsx("p",{className:"text-white/70 text-sm",children:"还没有记录今天的情绪"})]}),e.jsx("button",{onClick:()=>f("/mood-journal"),className:"px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-lg text-white text-sm hover:from-yellow-500 hover:to-orange-500 transition-all duration-300 shadow-lg",children:"立即记录"})]})})}),e.jsxs("div",{className:"px-6 mb-6",children:[e.jsxs("h2",{className:"text-white font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"⚡"}),"快速操作"]}),e.jsx("div",{className:"space-y-4",children:a.map((l,N)=>e.jsx("div",{className:"group bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20 hover:bg-white/20 hover:border-yellow-400/50 transition-all duration-300 cursor-pointer",onClick:l.action,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${l.gradient} flex items-center justify-center group-hover:scale-105 transition-transform duration-300 shadow-lg`,children:e.jsx("span",{className:"text-2xl",children:l.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-semibold mb-1",children:l.title}),e.jsx("p",{className:"text-white/70 text-sm",children:l.description})]}),e.jsx("div",{className:"text-white/40 group-hover:text-yellow-400 transition-colors",children:e.jsx("span",{className:"text-xl",children:"→"})})]})},N))})]}),e.jsx("div",{className:"px-6 mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400/20 to-orange-400/20 backdrop-blur-sm rounded-2xl p-4 border border-yellow-400/30",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"text-white font-semibold mb-2 flex items-center justify-center",children:[e.jsx("span",{className:"mr-2",children:"💡"}),"每日提醒"]}),e.jsx("p",{className:"text-white/90 leading-relaxed text-sm",children:w})]})})}),e.jsxs("div",{className:"px-6 pb-24",children:[e.jsxs("h2",{className:"text-white font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"📊"}),"本周概览"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 text-center border border-white/20",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400 mb-1",children:"5"}),e.jsx("div",{className:"text-white/70 text-xs",children:"记录天数"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 text-center border border-white/20",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:"7.2"}),e.jsx("div",{className:"text-white/70 text-xs",children:"平均心情"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 text-center border border-white/20",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:"3"}),e.jsx("div",{className:"text-white/70 text-xs",children:"练习次数"})]})]})]})]}),!c&&e.jsx(P,{onEmotionHelp:()=>o("breathing"),onThoughtHelp:()=>o("thought")})]})};export{Q as default};
